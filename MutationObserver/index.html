<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Mutation Observer</title>
</head>
<body>
    <ol contenteditable="true" oninput="">
        <li>press enter</li>
    </ol>
    <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver">MutationObserver</a>
    <script>
    let MutationObserver = window.MutationObserver 
        || window.WebkitMutationObserver
        || window.MozMutationObserver

    let list = document.querySelector('ol')

    let observer = new MutationObserver(function (mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.type === 'childList') {
                let listValues = [].slice.call(list.children)
                    .map(function (node) { return node.innerHTML })
                    .filter(function (s) {
                        if (s === '<br />') {
                            return false
                        } else {
                            return true
                        }
                    })
                
                console.log(listValues)
            }
        })
    })

    observer.observe(list, {
        attributes: true,
        childList: true,
        characterData: true
    })
    </script>
</body>
</html>